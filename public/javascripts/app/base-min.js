Array.prototype.indexOf||(Array.prototype.indexOf=function(f,e){null==e?e=0:0>e&&(e=Math.max(0,this.length+e));for(var a=e;a<this.length;a++)if(this[a]===f)return a;return-1});Array.prototype.inArray=function(f){var e;for(e=0;e<this.length;e++)if(this[e]===f)return true;return false};function setLocation(f){window.location.href=f;try{window.event.returnValue=false}catch(e){}}function confirmSetLocation(f,e){confirm(f)&&setLocation(e);return false}
function deleteConfirm(f,e){confirmSetLocation(f,e)}function bind(f,e){for(var a=[],g=2;g<arguments.length;g++)a.push(arguments[g]);g=function(){for(var c=f||(this==window?false:this),b=a.slice(),g=0;g<arguments.length;g++)b.push(arguments[g]);if(typeof e=="string"){if(c[e])return c[e].apply(c,b)}else return e.apply(c,b)};if(typeof e=="string")g.name=e;else if(e&&e.name)g.name=e.name;g.toString=function(){return bind._toString(f,a,e)};return g}
bind._toString=bind._toString||function(f,e,a){return typeof a=="string"?"late bind<"+a+">":"bound<"+a.toString()+">"};function to_array(f){for(var e=[],a=0,g=f.length;a<g;++a)e.push(f[a]);return e}Function.prototype.bind=function(f){for(var e=[arguments[0],this],a=arguments.length,g=1;g<a;g++)e.push(arguments[g]);return bind.apply(null,e)};Function.prototype.shield=function(f){if(typeof this!="function")throw new TypeException;var e=this.bind.apply(this,to_array(arguments));return function(){return e()}};
Function.prototype.defer=function(f,e){if(typeof this!="function")throw new TypeError;return setTimeout(this,f||0,e)};
Date.prototype.format=function(f){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(f)&&(f=f.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in e)RegExp("("+a+")").test(f)&&(f=f.replace(RegExp.$1,RegExp.$1.length==1?e[a]:("00"+e[a]).substr((""+e[a]).length)));return f};
KISSY.app("H",function(){var f=KISSY,e=f.DOM,a=-1===window.location.toString().indexOf("__debug")?false:true;return{version:"1.0",util:{pageReload:function(a){a=(a||window.location.toString()).replace(/t=(\d)+/g,"").replace(/([&|?])+$/,"");a=a+(-1===a.indexOf("?")?"?":"&")+"t="+KISSY.now();return window.location=a},parseJSON:function(a){try{var c=(new Function("return"+a.replace(/[\n|\t|\r]/g,"")))()}catch(b){HLG.log("parse JSON error")}return c},serialize:function(a){var c=/select|textarea/i,b=/hidden|password|text/i,
a=e.get(a);els=e.children(a);rt={};f.each(els,function(a){if(a.name&&!a.disabled&&(a.checked||c.test(a.nodeName)||b.test(a.type)))rt[a.name]=e.val(a)});return rt},toggleFlower:function(a){e.toggleClass([a,e.prev(a)],"hidden")},saveTrack:function(a,c,b){Event.on(a,"click",function(){KISSY.io.get(b,{name:c})})}},widget:{},app:{},FSH:{},log:function(g,c,b){if(a){b&&(g=b+": "+g);if(window.console!==void 0&&console.log)console[c&&console[c]?c:"log"](g)}return this}}});
H.add("widget~Dialog",function(){function f(a){var b=this;if(!(b instanceof f))return new f(a);this.config=e.merge(l,a||{});b=this;a=b.config;b._createHTML();if(true===a.keypress)g.on(c,"keypress",function(a){27===a.keyCode&&200===b._status&&b.hide()})}var e=KISSY,a=e.DOM,g=e.Event,c=document,b=e.UA.ie,j=f.prototype,k=0,l={ID:null,head:"Title",body:'<div class="ui-dialog-loading">\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u5019...</div>',foot:'<a href="javascript:;" class="close">close</a>',center:true,
width:"580px",zIndex:"1000002",keypress:true,mask:false,drag:false,maskClassName:"ui-dialog-mask",close:true,className:"ui-dialog",classNameHd:"ui-dialog-hd",classNameBd:"ui-dialog-bd",classNameFt:"ui-dialog-ft",scroll:true};e.mix(j,e.EventTarget);e.mix(j,{_status:400,center:function(){var c=this.elem,b,g;b=c.offsetWidth;g=c.offsetHeight;var e=a.viewportWidth(),f=a.viewportHeight();b=b<e?e/2-b/2+a.scrollLeft():a.scrollLeft();g=g<f?f/2-g/2+a.scrollTop():a.scrollTop();a.css(c,{left:b,top:g});a.css(this.mask,
"height",a.docHeight()+"px");this.fire("center");return this},setHeader:function(a){this.elemHead.innerHTML=a+"";this.fire("changeHeader");return this},setBody:function(a){if(a.nodeType){this.elemBody.innerHTML="";this.elemBody.appendChild(a)}else this.elemBody.innerHTML=a+"";this.fire("changeBody");return this},setFooter:function(a){this.elemFoot.innerHTML=a+"";this.fire("changeFooter");return this},show:function(){var g=this,e=this.config;g.fire("beforeShow");a.css(g.elem,"visibility","");a.css(g.elem,
"display","");true===e.center&&g.center();a.css(g.mask,"visibility","");b&&6===b&&a.addClass(c.body,"fix-select");g._status=200;g.fire("show");if(e.scroll)window.onscroll=function(){g.center()};return g},hide:function(){if(400!==this._status){this.fire("beforeHide");a.css(this.elem,"display","none");a.css(this.elem,"visibility","hidden");a.css(this.mask,"visibility","hidden");a.css(this.mask,"height",0);b&&6===b&&a.removeClass(c.body,"fix-select");this._status=400;this.fire("hide");return this}},
align:function(){},_createHTML:function(){var b=this,f=b.config;b.elem=c.createElement("dialog");b.elem.id=f.ID||"ui-dialog-"+k++;b.elem.className=f.className;a.css(b.elem,"width",f.width);a.css(b.elem,"visibility","hidden");a.css(b.elem,"z-index",f.zIndex);b.elemHead=c.createElement("hd");b.elemHead.className=f.classNameHd;b.elemHead.innerHTML=f.head;b.elemBody=c.createElement("bd");b.elemBody.className=f.classNameBd;b.setBody(f.body);if(true===f.close){b.elemFoot=c.createElement("ft");b.elemFoot.className=
f.classNameFt;b.elemFoot.innerHTML=f.foot;g.on(a.query("a.close",b.elemFoot),"click",function(a){a.preventDefault();b.hide()})}b.elem.appendChild(b.elemHead);b.elem.appendChild(b.elemBody);b.elem.appendChild(b.elemFoot);c.body.appendChild(b.elem);if(true===f.mask){b.mask=c.createElement("mask");b.mask.id=b.elem.id+"_"+f.maskClassName;b.mask.className=f.maskClassName;a.css(b.mask,"height",a.docHeight()+"px");a.css(b.mask,"visibility","hidden");a.css(b.mask,"z-index",b.config.zIndex-1);c.body.appendChild(b.mask)}if(true===
f.drag){a.addClass(b.elem,"ui-dialog-dd");e.use("dd",function(){var a=e.one("#"+b.elem.id);(new e.Draggable({node:a,handlers:[e.one("."+f.classNameHd)],shim:true})).on("drag",function(a){a.left<0||a.top<0||this.get("node").offset(a)})})}}});H.widget.Dialog=f;H.widget.DialogMgr={list:{},get:function(a,b){if(!a||!this.list[a]){var c=new H.widget.Dialog(b),a=!a?c.elem.id:a;this.list[a]=c}return this.list[a]}}});
H.add("widget~msg",function(){function f(){if(!(this instanceof f))return new f;this.msg=this.panel=this.elem=this.mask1=null;this.header="\u9519\u8bef\u63d0\u793a";this.message=null}var e=KISSY,a=e.DOM,g=document;num=0;e.mix(f.prototype,{setHeader:function(a){if(e.isString(a))this.header=a;return this},setMsg:function(a){this.msg=a==void 0?null:a;return this},setBody:function(a,b){if(b==1){if(e.isString(a))this.elem.innerHTML=a}else if(b==2){if(e.isString(a))this.message.innerHTML=a}else this.panel.setBody(a);
return this},createDiv:function(){var c=a.create('<div class="messages-prompt"><div class="fbloader"><img  src="/images/loading.gif" width="136" height="11" /></div></div>');this.elem=g.createElement("div");a.append(this.elem,c);g.body.appendChild(c)},createDialog:function(){var a="msg_panel"+num++;this.panel=H.widget.DialogMgr.get(a,{ID:a,head:"\u9519\u8bef\u63d0\u793a",body:"",foot:'<a href="javascript:;" class="close">close</a>',center:true,width:"400px",keypress:true,
mask:true,drag:true})},center:function(){var c,b,g=a.parent(this.elem);c=g.offsetWidth;b=g.offsetHeight;viewPortWidth=a.viewportWidth();viewPortHeight=a.viewportHeight();c=c<viewPortWidth?viewPortWidth/2-c/2+a.scrollLeft():a.scrollLeft();b=b<viewPortHeight?viewPortHeight/2-b/2+a.scrollTop():a.scrollTop();a.css(g,{left:c,top:b});return this},show:function(c){var b=this;value=b.msg;if(c==void 0){this.elem||b.createDiv();a.css(a.parent(b.elem),"opacity","1");b.setBody(value,1);b.mask();a.show(a.parent(b.elem));
b.center();window.onscroll=function(){b.center()}}else{this.message=a.get(c);b.setBody(value,2);a.show(this.message)}},showDialog:function(){this.panel||this.createDialog();this.panel.setHeader(this.header);this.setBody(this.msg);this.panel.show()},mask:function(){this.mask1=mask=g.createElement("mask");mask.id="messageMask";a.css(mask,"height",a.docHeight()+"px");a.css(mask,"opacity","0.1");a.css(mask,"background-color","#000000");a.css(mask,"height",a.docHeight()+"px");a.css(mask,{position:"absolute",
top:"0px",left:"0px",right:"0px",bottom:"0px"});a.css(mask,"width","100%");a.css(mask,"filter","alpha(opacity=10)");a.css(mask,"z-index",1000003);g.body.appendChild(mask);KISSY.UA.ie==6&&a.append(a.create('<iframe style="position:absolute; top:0px; left:0px; width:100%; height:100%; opacity:0; filter:alpha(opacity=0);z-index:-1; scrolling:no; visibility:inherit" frameborder="5" src=""></iframe>'),a.get("#messageMask"));return this},hide:function(c){var b=this;if(b.elem)if(true===c){b.timer&&b.timer.cancel();
b.timer=e.later(function(){var c=e.Anim(a.parent(b.elem),{opacity:0},0.3);a.hide(b.message);a.remove(b.mask1);a.hide(a.parent(b.elem));a.remove(b.mask1);b.timer=null;c.run()},2E3)}else{a.hide(b.message);a.remove(b.mask1);a.hide(a.parent(b.elem));a.remove(b.mask1)}b.panel!=null&&b.panel.hide()}});H.util.Msg=f});
H.add("widget~asyncRequest",function(){function f(a){if(!(this instanceof f))return new f(a);this.form="";this.dataType="json";this.uri="";this.method="GET";this.data=null;this.bootloadable=true;this.resList=[];a!=void 0&&this.setURI(a)}var e=KISSY;e.mix(f.prototype,{handleSuccess:function(){},handleFailure:function(a){alert(a.desc)},mapRes:function(){var a=document.getElemenHLGByTagName("link"),g=document.getElemenHLGByTagName("script");if(a.length)for(var c=0,b=a.length;c<b;c++)this.resList.push(a[c].href);
if(g.length){c=0;for(b=g.length;c<b;c++)this.resList.push(g[c].src)}},setMethod:function(a){this.method=a.toString().toUpperCase();return this},getMethod:function(){return this.method},setData:function(a){this.data=a;return this},getData:function(){return this.data},setForm:function(a){this.form=a;return this},getForm:function(){return this.form},setURI:function(a){this.uri=a;return this},getURI:function(){return this.uri.toString()},setDataType:function(a){this.dataType=a;return this},getDataType:function(){return this.dataType},
setHandle:function(a){this.handleSuccess=a;return this},setErrorHandle:function(a){this.handleFailure=a;return this},dispatchResponse:function(a,g){g.handleSuccess(a);var c=a.onload;if(c)try{(new Function(c))()}catch(b){}},disableBootload:function(){this.bootloadable=false;return this},enableBootload:function(){this.bootloadable=true;return this},dispatchErrorResponse:function(){(new H.util.Msg).setMsg("\u4e0e\u670d\u52a1\u5668\u4ea4\u4e92\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u8fde\u63a5\u6b63\u5e38").show();
e.later(function(){window.history.back(-1)},1E4,false,null,null)},send:function(){if(this.method=="GET"&&this.data){this.uri=this.uri+((this.uri.indexOf("?")==-1?"?":"&")+this.data);this.data=null}var a=this;interpretResponse=function(a,c,b,e){if(a.ajaxExpired!=null)window.location=a.ajaxRedirect;else{c=a.error?e.handleFailure:e.dispatchResponse;c=c.shield(null,a,e);c=c.defer.bind(c);c()}};e.ajax({form:this.form,type:this.method,url:this.uri,data:this.data,success:function(g,c,b){interpretResponse(g,
c,b,a)},error:this.dispatchErrorResponse,dataType:this.dataType})}});H.widget.asyncRequest=f});
H.add("widget~showPages",function(){function f(a){if(!(this instanceof f))return new f(a);this.pageNum=4;this.name=a;this.page=1;this.pageCount=200;this.argName="page"}var e=KISSY,a=e.DOM;e.mix(f.prototype,{jump:function(){},checkPages:function(){if(isNaN(parseInt(this.page)))this.page=1;if(isNaN(parseInt(this.pageCount)))this.pageCount=1;if(this.page<1)this.page=1;if(this.pageCount<1)this.pageCount=1;if(this.page>this.pageCount)this.page=this.pageCount;this.page=parseInt(this.page);this.pageCount=
parseInt(this.pageCount)},_createHtml:function(a){var c="",b=this.page-1,e=this.page+1;if(a==""||typeof a=="undefined")a=1;switch(a){case 1:c=c+'<span class="number">';this.page!=1&&(c=c+('<span title="Page 1"><a href="javascript:'+this.name+'.toPage(1);">1</a></span>'));this.page>=5&&(c=c+"<span>...</span>");a=this.pageCount>this.page+2?this.page+2:this.pageCount;for(b=this.page-2;b<=a;b++)b>0&&(b==this.page?c=c+('<span title="Page '+b+'">'+b+"</span>"):b!=1&&b!=this.pageCount&&(c=c+('<span title="Page '+
b+'"><a href="javascript:'+this.name+".toPage("+b+');">'+b+"</a></span>")));this.page+3<this.pageCount&&(c=c+"<span>...</span>");this.page!=this.pageCount&&(c=c+('<span title="Page '+this.pageCount+'"><a href="javascript:'+this.name+".toPage("+this.pageCount+');">'+this.pageCount+"</a></span>"));c=c+"</span><br />";break;case 2:c=c+'<span class="number">';c=b<1?c+'<span title="Prev Page"  class="number-none">\u4e0a\u4e00\u9875</span>':c+('<span title="Prev Page"><a href="javascript:'+this.name+".toPage("+
b+');">\u4e0a\u4e00\u9875</a></span>');if(this.page-2<=0){b=1;a=this.pageCount>this.page+4?this.page+4:this.pageCount}else if(this.page+2>=this.pageCount){b=this.pageCount-4;a=this.pageCount>this.page+4?this.page+4:this.pageCount}else{b=this.page-2;a=this.pageCount>this.page+2?this.page+2:this.pageCount}for(;b<=a;b++)b>0&&(c=b==this.page?c+('<span title="Page '+b+'" class="current">'+b+"</span>"):c+('<span title="Page '+b+'"><a href="javascript:'+this.name+".toPage("+b+');">'+b+"</a></span>"));this.page+
3<this.pageCount&&(c=c+'<span  class="number-none">...</span>');c=e>this.pageCount?c+'<span title="Next Page"  class="number-none">\u4e0b\u4e00\u9875</span>':c+('<span title="Next Page"><a href="javascript:'+this.name+".toPage("+e+');">\u4e0b\u4e00\u9875</a></span>');if(this.pageCount>10){c=c+'<span class="margin-top-5">'+("\u5171"+this.pageCount+"\u9875&nbsp;\u5230\u7b2c");c=this.page>=this.pageCount?c+('<input type="text" id="pageInput'+this.name+'" value="'+this.pageCount+'" class="input-text w-25" title="Input page" onkeypress="return '+
this.name+'.formatInputPage(event);" onfocus="this.select()">'):c+('<input type="text" id="pageInput'+this.name+'" value="'+(this.page+1)+'" class="input-text w-25" title="Input page" onkeypress="return '+this.name+'.formatInputPage(event);" onfocus="this.select()">');c=c+"\u9875"+('<span class="gray-btm-60"><a style="border: 0px solid #CBCDCC;margin: 0px;padding: 0px" href="javascript:var page = document.getElementById(\'pageInput'+this.name+"').value; if(isNaN(Number(page))|| Number(page)==0) { var turnTo = 1;} else if(page>"+
this.pageCount+"){ var turnTo = "+this.pageCount+";} else{var turnTo = page;} ; "+this.name+'.toPage(turnTo);"><span>GO</span></a></span>');c=c+"</span>"}c=c+"</span>";break;case 3:c=c+('<span class="count">'+this.page+" / "+this.pageCount+"</span>");c=c+'<span class="number">';c=b<1?c+'<span title="Prev Page" class="number-none">\u25c4</span>':c+('<span title="Prev Page"><a href="javascript:'+this.name+".toPage("+b+');"><em style=" color:#FF6600">\u25c4</em></a></span>');c=e>this.pageCount?c+'<span title="Next Page" class="number-none">\u4e0b\u4e00\u9875</span>':
c+('<span title="Next Page"><a href="javascript:'+this.name+".toPage("+e+');">\u4e0b\u4e00\u9875<em style=" color:#FF6600">\u25ba</em></a></span>');c=c+"</span><br />"}return c},formatInputPage:function(a){a=navigator.appName=="Microsoft Internet Explorer"?event.keyCode:a.which;return a==8||a==46||a>=48&&a<=57?true:false},toPage:function(a,c){var b=1,b=typeof a=="object"?a.options[a.selectedIndex].value:a;this.jump(b,c,"")},printHtml:function(e,c){this.checkPages();a.html(e,this._createHtml(c));return this},
setPageCount:function(a){this.pageCount=a;return this},getPageCount:function(){return this.pageCount},setRender:function(a){this.jump=a;return this},setPageNum:function(a){this.pageNum=a;return this},setPage:function(a){this.page=a;return this}});H.widget.showPages=f});
H.add("widget~countdown",function(){function f(a,c,b){if(!(this instanceof f))return new f(a,c,b);this.timer=null;this.init(a,c,b)}var e=KISSY,a=e.DOM;e.mix(f.prototype,{init:function(f,c,b){var j=this;if(b==""||typeof b=="undefined")b=1;b==1&&a.html(a.get(f),' <span class="day"></span>\u5929<span class="hour"></span>\u65f6<span class="min"></span>\u5206<span class="sec"></span>\u79d2 ');b==2&&a.html(a.get(f),' <span class="hour">19</span>\u65f6<span class="min">19</span>\u5206<span class="sec">26</span>\u79d2');
b==3&&a.html(a.get(f),'<span class="hour"><b>0</b><b>0</b></span><span class="min"><b>0</b><b>0</b></span><span class="sec"><b>0</b><b>0</b></span>');j.timer&&j.timer.cancel();j.timer=e.later(function(c){var e=new Date,c=parseInt((c.getTime()-e.getTime())/1E3);d=parseInt(c/86400%1E4);e=parseInt(c/3600%24);h=parseInt(c/60%60);i=parseInt(c%60);b==3&&(e=e+d*24);d>=0&&d<10&&(d="0"+d);e>=0&&e<10&&(e="0"+e);h>=0&&h<10&&(h="0"+h);i>=0&&i<10&&(i="0"+i);if(b==1){a.html(a.get(f+" .day"),d);a.html(a.get(f+" .hour"),
e);a.html(a.get(f+" .min"),h);a.html(a.get(f+" .sec"),i)}if(b==2||b==3){if(b==3)var e=e.toString(),h=h.toString(),i=i.toString(),e="<b>"+e.charAt(0)+"</b><b>"+e.charAt(1)+"</b>",h="<b>"+h.charAt(0)+"</b><b>"+h.charAt(1)+"</b>",i="<b>"+i.charAt(0)+"</b><b>"+i.charAt(1)+"</b>";a.html(a.get(f+" .hour"),e);a.html(a.get(f+" .min"),h);a.html(a.get(f+" .sec"),i)}c<=0&&j.endDo()},1E3,true,null,c)},setRender:function(a){this.endDo=a;return this},endDo:function(){this.timer.cancel()}});H.widget.countdown=f});
H.add("widget~roll",function(){function f(c,b,e){if(!(this instanceof f))return new f(c,b,e);this.tab=a.get(c);this.speed=e;c=a.children(this.tab);if(c.length==2){this.tab1=c[0];this.tab2=c[1];this.init(b)}}var e=KISSY,a=e.DOM,g=e.Event;e.mix(f.prototype,{init:function(c){var b=this;if(c==""||typeof c=="undefined")c="up";switch(c){case "up":a.html(b.tab2,a.html(b.tab1));var f=function(){b.tab2.offsetTop-b.tab.scrollTop<=0?b.tab.scrollTop=b.tab.scrollTop-b.tab1.offsetHeight:b.tab.scrollTop++};b.timer=
e.later(f,b.speed,true,null,null);g.on(b.tab,"mouseenter mouseleave",function(a){a.type=="mouseenter"?b.timer.cancel():b.timer=e.later(f,b.speed,true,null,null)});break;case "down":a.html(b.tab2,a.html(b.tab1));b.tab.scrollTop=b.tab.scrollHeight;var k=function(){b.tab1.offsetTop-b.tab.scrollTop>=0?b.tab.scrollTop=b.tab.scrollTop+b.tab2.offsetHeight:b.tab.scrollTop--};b.timer=e.later(k,b.speed,true,null,null);g.on(b.tab,"mouseenter mouseleave",function(a){a.type=="mouseenter"?b.timer.cancel():b.timer=
e.later(k,b.speed,true,null,null)});break;case "left":alert("left");break;case "right":alert("right")}}});H.widget.roll=f});
